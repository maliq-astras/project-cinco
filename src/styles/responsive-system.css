/**
 * Professional Responsive System
 * Uses modern CSS techniques for fluid, scalable layouts
 */

/* ===== FLUID TYPOGRAPHY ===== */
:root {
  /* Fluid font sizes using clamp() */
  --font-xs: clamp(0.75rem, 0.7rem + 0.25vw, 0.875rem);
  --font-sm: clamp(0.875rem, 0.8rem + 0.375vw, 1rem);
  --font-base: clamp(1rem, 0.9rem + 0.5vw, 1.125rem);
  --font-lg: clamp(1.125rem, 1rem + 0.625vw, 1.25rem);
  --font-xl: clamp(1.25rem, 1.1rem + 0.75vw, 1.5rem);
  --font-2xl: clamp(1.5rem, 1.3rem + 1vw, 2rem);
  --font-3xl: clamp(1.875rem, 1.6rem + 1.375vw, 2.5rem);
  --font-4xl: clamp(2.25rem, 1.9rem + 1.75vw, 3rem);

  /* Fluid spacing using clamp() */
  --space-xs: clamp(0.25rem, 0.2rem + 0.25vw, 0.375rem);
  --space-sm: clamp(0.5rem, 0.4rem + 0.5vw, 0.75rem);
  --space-md: clamp(0.75rem, 0.6rem + 0.75vw, 1.125rem);
  --space-lg: clamp(1rem, 0.8rem + 1vw, 1.5rem);
  --space-xl: clamp(1.5rem, 1.2rem + 1.5vw, 2.25rem);
  --space-2xl: clamp(2rem, 1.6rem + 2vw, 3rem);
  --space-3xl: clamp(3rem, 2.4rem + 3vw, 4.5rem);

  /* Fluid container sizes */
  --container-xs: clamp(280px, 90vw, 320px);
  --container-sm: clamp(320px, 85vw, 480px);
  --container-md: clamp(480px, 80vw, 640px);
  --container-lg: clamp(640px, 75vw, 768px);
  --container-xl: clamp(768px, 70vw, 1024px);
  --container-2xl: clamp(1024px, 65vw, 1280px);

  /* Fluid bubble sizes (optimized for tablet landscape) */
  --bubble-size: clamp(45px, 4vw + 30px, 110px);
  --bubble-gap: clamp(8px, 1vw + 4px, 28px);
  
  /* Fluid card sizes (smaller on tablet landscape) */
  --card-width: clamp(80px, 8vw + 40px, 140px);
  --card-height: clamp(120px, 12vw + 60px, 200px);
  
  /* Fluid header sizes (larger on tablet landscape) */
  --header-height: clamp(60px, 8vh + 20px, 140px);
  --logo-width: clamp(200px, 25vw + 100px, 450px);
}

/* ===== RESPONSIVE LAYOUT UTILITIES ===== */
.fluid-container {
  width: min(100% - 2rem, var(--container-2xl));
  margin-inline: auto;
}

.fluid-grid {
  display: grid;
  gap: var(--space-md);
  grid-template-columns: repeat(auto-fit, minmax(min(100%, 250px), 1fr));
}

.fluid-bubble-grid {
  display: grid;
  grid-template-columns: repeat(4, var(--bubble-size));
  grid-template-rows: repeat(2, var(--bubble-size));
  gap: var(--bubble-gap);
  justify-content: center;
  align-content: center;
  width: fit-content;
  margin: 0 auto;
}

/* Adaptive grid for very small screens */
@media (max-width: 400px) {
  .fluid-bubble-grid {
    grid-template-columns: repeat(3, var(--bubble-size));
    grid-template-rows: repeat(3, var(--bubble-size));
  }
}

.fluid-card-stack {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: calc(var(--card-height) + 2rem);
  padding: var(--space-lg);
}

/* ===== RESPONSIVE SPACING SYSTEM ===== */
.space-fluid-xs { margin: var(--space-xs); }
.space-fluid-sm { margin: var(--space-sm); }
.space-fluid-md { margin: var(--space-md); }
.space-fluid-lg { margin: var(--space-lg); }
.space-fluid-xl { margin: var(--space-xl); }

.gap-fluid-xs { gap: var(--space-xs); }
.gap-fluid-sm { gap: var(--space-sm); }
.gap-fluid-md { gap: var(--space-md); }
.gap-fluid-lg { gap: var(--space-lg); }
.gap-fluid-xl { gap: var(--space-xl); }

/* ===== RESPONSIVE HEADER SYSTEM ===== */
.fluid-header {
  height: var(--header-height);
  padding: var(--space-sm) var(--space-md);
}

.fluid-logo {
  height: 100%;
  max-width: var(--logo-width);
}

.fluid-title {
  font-size: var(--font-3xl);
  max-width: var(--logo-width);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* ===== RESPONSIVE GAME CONTROLS ===== */
.fluid-game-controls {
  padding: var(--space-md);
  gap: var(--space-md);
}

.fluid-input {
  padding: var(--space-sm) var(--space-md);
  font-size: var(--font-base);
  border-radius: var(--space-sm);
}

.fluid-button {
  padding: var(--space-sm) var(--space-lg);
  font-size: var(--font-base);
  border-radius: var(--space-sm);
}

/* ===== ASPECT RATIO CONTAINERS ===== */
.aspect-square {
  aspect-ratio: 1 / 1;
}

.aspect-card {
  aspect-ratio: 3 / 4;
}

.aspect-wide {
  aspect-ratio: 16 / 9;
}

/* ===== RESPONSIVE MODALS ===== */
.fluid-modal {
  padding: var(--space-lg);
  margin: var(--space-md);
  border-radius: var(--space-md);
  max-width: var(--container-lg);
  max-height: 90vh;
  overflow-y: auto;
}

@media (max-height: 600px) {
  .fluid-modal {
    max-height: 95vh;
    padding: var(--space-md);
  }
}

/* ===== RESPONSIVE NAVIGATION ===== */
.fluid-nav {
  gap: var(--space-md);
  padding: var(--space-sm) var(--space-md);
}

.fluid-nav-icon {
  width: clamp(1.25rem, 2vw + 0.75rem, 2rem);
  height: clamp(1.25rem, 2vw + 0.75rem, 2rem);
  padding: var(--space-xs);
}

/* ===== RESPONSIVE CONTENT AREAS ===== */
.fluid-content-area {
  padding: var(--space-lg);
  margin: var(--space-md) auto;
  max-width: var(--container-xl);
}

/* Ensure minimum touch targets on all devices */
@media (pointer: coarse) {
  .fluid-button,
  .fluid-nav-icon,
  button {
    min-height: 44px;
    min-width: 44px;
  }
}

/* ===== RESPONSIVE UTILITIES ===== */
.text-fluid-xs { font-size: var(--font-xs); }
.text-fluid-sm { font-size: var(--font-sm); }
.text-fluid-base { font-size: var(--font-base); }
.text-fluid-lg { font-size: var(--font-lg); }
.text-fluid-xl { font-size: var(--font-xl); }
.text-fluid-2xl { font-size: var(--font-2xl); }
.text-fluid-3xl { font-size: var(--font-3xl); }
.text-fluid-4xl { font-size: var(--font-4xl); }

/* ===== TABLET LANDSCAPE OPTIMIZATIONS ===== */
@media (min-width: 900px) and (max-width: 1400px) and (min-aspect-ratio: 1.3/1) and (max-aspect-ratio: 2.2/1) {
  :root {
    /* Larger bubbles on tablet landscape */
    --bubble-size: clamp(56px, 5vw + 38px, 138px); /* 25% increase */
    --bubble-gap: clamp(10px, 1.2vw + 5px, 34px); /* Proportional gap increase */
    
    /* Smaller cards on tablet landscape */
    --card-width: clamp(64px, 6.4vw + 32px, 112px); /* 20% decrease */
    --card-height: clamp(96px, 9.6vw + 48px, 160px); /* 20% decrease */
    
    /* Larger header on tablet landscape */
    --header-height: clamp(78px, 10.4vh + 26px, 182px); /* 30% increase */
    --logo-width: clamp(240px, 30vw + 120px, 540px); /* 20% increase */
    
    /* Boost title font size for tablet landscape */
    --font-3xl: clamp(2.4rem, 2rem + 1.75vw, 3.25rem); /* Larger title */
    --font-4xl: clamp(2.9rem, 2.5rem + 2.25vw, 3.9rem); /* Larger title */
  }
  
  /* Optimize bubble grid for larger bubbles */
  .fluid-bubble-grid {
    gap: var(--bubble-gap);
    margin: var(--space-lg) auto;
  }
  
  /* Optimize card stack for smaller cards */
  .fluid-card-stack {
    min-height: calc(var(--card-height) + 1.5rem);
    padding: var(--space-md);
  }
  
  /* Optimize header for larger size */
  .fluid-header {
    padding: var(--space-md) var(--space-lg);
  }
  
  /* Ensure proper spacing between elements */
  .fluid-content-area {
    gap: var(--space-xl);
  }
}

/* ===== CONTAINER QUERIES (Future-proofing) ===== */
@container (max-width: 400px) {
  .bubble-grid-container .fluid-bubble-grid {
    grid-template-columns: repeat(3, var(--bubble-size));
    grid-template-rows: repeat(3, var(--bubble-size));
  }
}

@container (min-width: 800px) {
  .game-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: var(--space-xl);
    align-items: start;
  }
}
