/* Hide scrollbars for the expanding game input textarea specifically */
.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Keep element in layout but make it invisible */
.visibility-hidden {
  visibility: hidden;
}

/* Screen size thresholds now handled by warning component */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Apply smooth transitions for theme changes and improve dark mode flashing */
:root {
  color-scheme: light;
}

.dark {
  color-scheme: dark;
}

/* Base theme transition - apply to all elements that should transition smoothly */
html {
  transition: color 0.2s ease, background-color 0.2s ease;
}

html.dark {
  background-color: #000;
  color: #fff;
}

/* Prevent overscroll white background but maintain theme system */
html, body {
  overscroll-behavior: none;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  height: 100%;
  width: 100%;
}

/* Disable double-tap to zoom on mobile while preserving pinch-to-zoom */
/* This prevents accidental zooming when tapping buttons/interactive elements */
/* Users can still pinch-to-zoom for accessibility if needed */
html {
  touch-action: manipulation;
}

/* Ensure buttons and interactive elements don't trigger zoom */
button, 
input, 
select, 
textarea,
[role="button"],
[tabindex] {
  touch-action: manipulation;
}

/* Game-specific areas that should never trigger zoom */
#game-controls,
.game-controls,
.fact-card-stack-container,
.fact-bubble-grid {
  touch-action: manipulation;
}

/* Prevent zoom on draggable elements */
[draggable="true"] {
  touch-action: manipulation;
}

/* Responsive layout classes - modern approach with smart scaling for no-scroll experience */


/* Compact layout for constrained heights */
.layout-compact .game-content {
  gap: 0.5rem !important;
  padding: 0.5rem 0 !important;
}

.layout-compact .top-section {
  margin-bottom: 0.5rem !important;
}

.layout-compact .middle-section {
  gap: 0.5rem !important;
}

.layout-compact .bottom-section {
  margin-top: 0.5rem !important;
}

.layout-compact .fact-bubbles-wrapper {
  margin: 0.5rem 0 !important;
}

.layout-compact .context-line {
  margin-bottom: 0.5rem !important;
}

/* Normal layout (default) */
.layout-normal .game-content {
  gap: 1rem !important;
  padding: 1rem 0 !important;
}

/* Spacious layout for larger screens */
.layout-spacious .game-content {
  gap: 1.5rem !important;
  padding: 1.5rem 0 !important;
}

.layout-spacious .top-section {
  margin-bottom: 1rem !important;
}

.layout-spacious .middle-section {
  gap: 1rem !important;
}

.layout-spacious .bottom-section {
  margin-top: 1rem !important;
}

/* Additional responsive adjustments for very constrained heights */
@media (max-height: 600px) {
  .layout-compact .game-content {
    gap: 0.25rem !important;
    padding: 0.25rem 0 !important;
  }
  
  .layout-compact .top-section {
    margin-bottom: 0.25rem !important;
  }
  
  .layout-compact .middle-section {
    gap: 0.25rem !important;
  }
  
  .layout-compact .bottom-section {
    margin-top: 0.25rem !important;
  }
  
  .layout-compact .fact-bubbles-wrapper {
    margin: 0.25rem 0 !important;
  }
  
  .layout-compact .context-line {
    margin-bottom: 0.25rem !important;
  }
}

/* Ultra-compact adjustments for extremely constrained heights */
@media (max-height: 650px) {
  .layout-compact .game-content {
    gap: 0.125rem !important;
    padding: 0.125rem 0 !important;
  }
  
  .layout-compact .top-section {
    margin-bottom: 0.125rem !important;
  }
  
  .layout-compact .middle-section {
    gap: 0.125rem !important;
  }
  
  .layout-compact .bottom-section {
    margin-top: 0.125rem !important;
  }
  
  .layout-compact .fact-bubbles-wrapper {
    margin: 0.125rem 0 !important;
  }
  
  .layout-compact .context-line {
    margin-bottom: 0.125rem !important;
  }
}

/* Utility class to hide scrollbars */
.scrollbar-hide {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera */
}

/* Hide scrollbar but maintain scroll functionality */
.scroll-snap-type-y {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge */
  scroll-snap-type: y mandatory;
  overflow-y: scroll;
  height: 100vh;
}

/* Hide scrollbar for Chrome, Safari and Opera */
.scroll-snap-type-y::-webkit-scrollbar {
  display: none;
}

/* Also hide scrollbar on the main container */
.snap-container {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge */
  scroll-behavior: smooth;
}

.snap-container::-webkit-scrollbar {
  display: none;
}

.scroll-snap-align-start {
  scroll-snap-align: start;
}

/* High contrast mode styles */
.high-contrast {
  --contrast-text: 0, 0, 0; /* Black text in light mode */
  --contrast-bg: 255, 255, 255; /* White background in light mode */
  --contrast-border: 0, 0, 0; /* Black border in light mode */
  --contrast-focus: 0, 102, 204; /* Blue focus ring in light mode */
  
  /* High contrast category colors for light mode */
  --hc-blue-900: 0, 0, 153; /* Countries */
  --hc-green-900: 0, 102, 0; /* Animals */
  --hc-purple-900: 102, 0, 102; /* Movies */
  --hc-orange-900: 153, 51, 0; /* Books */
  --hc-pink-900: 153, 0, 102; /* Musicians */
  --hc-red-900: 153, 0, 0; /* Athletes */
  --hc-yellow-900: 153, 102, 0; /* History */
  --hc-cyan-900: 0, 102, 102; /* Companies */
  --hc-indigo-900: 51, 0, 153; /* TV Shows */
  
  /* Secondary and accent colors for light mode */
  --hc-blue-800: 0, 51, 204;
  --hc-green-800: 0, 153, 0;
  --hc-purple-800: 102, 0, 153;
  --hc-orange-800: 204, 82, 0;
  --hc-pink-800: 204, 0, 153;
  --hc-red-800: 204, 0, 0;
  --hc-yellow-800: 204, 153, 0;
  --hc-cyan-800: 0, 153, 153;
  --hc-indigo-800: 51, 0, 204;
  
  --hc-blue-950: 0, 0, 102;
  --hc-green-950: 0, 51, 0;
  --hc-purple-950: 51, 0, 51;
  --hc-orange-950: 102, 25, 0;
  --hc-pink-950: 102, 0, 51;
  --hc-red-950: 102, 0, 0;
  --hc-yellow-950: 102, 51, 0;
  --hc-cyan-950: 0, 51, 51;
  --hc-indigo-950: 25, 0, 102;
}

.dark.high-contrast {
  --contrast-text: 255, 255, 255; /* White text in dark mode */
  --contrast-bg: 0, 0, 0; /* Black background in dark mode */
  --contrast-border: 255, 255, 255; /* White border in dark mode */
  --contrast-focus: 255, 255, 0; /* Yellow focus ring in dark mode */
  
  /* High contrast category colors for dark mode */
  --hc-blue-300: 51, 153, 255; /* Countries */
  --hc-green-300: 0, 204, 102; /* Animals */
  --hc-purple-300: 204, 51, 255; /* Movies */
  --hc-orange-300: 255, 153, 51; /* Books */
  --hc-pink-300: 255, 51, 153; /* Musicians */
  --hc-red-300: 255, 51, 51; /* Athletes */
  --hc-yellow-300: 255, 255, 51; /* History */
  --hc-cyan-300: 51, 204, 204; /* Companies */
  --hc-indigo-300: 102, 102, 255; /* TV Shows */
  
  /* Secondary and accent colors for dark mode */
  --hc-blue-200: 102, 178, 255;
  --hc-green-200: 102, 255, 178;
  --hc-purple-200: 229, 153, 255;
  --hc-orange-200: 255, 178, 102;
  --hc-pink-200: 255, 153, 204;
  --hc-red-200: 255, 153, 153;
  --hc-yellow-200: 255, 255, 153;
  --hc-cyan-200: 153, 255, 255;
  --hc-indigo-200: 153, 153, 255;
  
  --hc-blue-400: 0, 102, 255;
  --hc-green-400: 0, 153, 76;
  --hc-purple-400: 178, 0, 255;
  --hc-orange-400: 255, 128, 0;
  --hc-pink-400: 255, 0, 128;
  --hc-red-400: 255, 0, 0;
  --hc-yellow-400: 255, 204, 0;
  --hc-cyan-400: 0, 153, 153;
  --hc-indigo-400: 51, 51, 255;
}

/* High contrast color CSS variable overrides with fallbacks for browsers without CSS custom property support */

/* Primary high contrast colors */
.high-contrast .text-blue-900, .high-contrast .blue-900 { color: rgb(var(--hc-blue-900)) !important; }
.high-contrast .text-green-900, .high-contrast .green-900 { color: rgb(var(--hc-green-900)) !important; }
.high-contrast .text-purple-900, .high-contrast .purple-900 { color: rgb(var(--hc-purple-900)) !important; }
.high-contrast .text-orange-900, .high-contrast .orange-900 { color: rgb(var(--hc-orange-900)) !important; }
.high-contrast .text-pink-900, .high-contrast .pink-900 { color: rgb(var(--hc-pink-900)) !important; }
.high-contrast .text-red-900, .high-contrast .red-900 { color: rgb(var(--hc-red-900)) !important; }
.high-contrast .text-yellow-900, .high-contrast .yellow-900 { color: rgb(var(--hc-yellow-900)) !important; }
.high-contrast .text-cyan-900, .high-contrast .cyan-900 { color: rgb(var(--hc-cyan-900)) !important; }
.high-contrast .text-indigo-900, .high-contrast .indigo-900 { color: rgb(var(--hc-indigo-900)) !important; }

.dark.high-contrast .text-blue-300, .dark.high-contrast .blue-300 { color: rgb(var(--hc-blue-300)) !important; }
.dark.high-contrast .text-green-300, .dark.high-contrast .green-300 { color: rgb(var(--hc-green-300)) !important; }
.dark.high-contrast .text-purple-300, .dark.high-contrast .purple-300 { color: rgb(var(--hc-purple-300)) !important; }
.dark.high-contrast .text-orange-300, .dark.high-contrast .orange-300 { color: rgb(var(--hc-orange-300)) !important; }
.dark.high-contrast .text-pink-300, .dark.high-contrast .pink-300 { color: rgb(var(--hc-pink-300)) !important; }
.dark.high-contrast .text-red-300, .dark.high-contrast .red-300 { color: rgb(var(--hc-red-300)) !important; }
.dark.high-contrast .text-yellow-300, .dark.high-contrast .yellow-300 { color: rgb(var(--hc-yellow-300)) !important; }
.dark.high-contrast .text-cyan-300, .dark.high-contrast .cyan-300 { color: rgb(var(--hc-cyan-300)) !important; }
.dark.high-contrast .text-indigo-300, .dark.high-contrast .indigo-300 { color: rgb(var(--hc-indigo-300)) !important; }

/* Mapped colors (e.g., emerald->green, fuchsia->pink) */
.high-contrast .text-emerald-900, .high-contrast .emerald-900 { color: rgb(var(--hc-green-900)) !important; }
.high-contrast .text-violet-900, .high-contrast .violet-900 { color: rgb(var(--hc-purple-900)) !important; }
.high-contrast .text-fuchsia-900, .high-contrast .fuchsia-900 { color: rgb(var(--hc-pink-900)) !important; }
.high-contrast .text-amber-900, .high-contrast .amber-900 { color: rgb(var(--hc-yellow-900)) !important; }
.high-contrast .text-teal-900, .high-contrast .teal-900 { color: rgb(var(--hc-cyan-900)) !important; }

.dark.high-contrast .text-emerald-300, .dark.high-contrast .emerald-300 { color: rgb(var(--hc-green-300)) !important; }
.dark.high-contrast .text-violet-300, .dark.high-contrast .violet-300 { color: rgb(var(--hc-purple-300)) !important; }
.dark.high-contrast .text-fuchsia-300, .dark.high-contrast .fuchsia-300 { color: rgb(var(--hc-pink-300)) !important; }
.dark.high-contrast .text-amber-300, .dark.high-contrast .amber-300 { color: rgb(var(--hc-yellow-300)) !important; }
.dark.high-contrast .text-teal-300, .dark.high-contrast .teal-300 { color: rgb(var(--hc-cyan-300)) !important; }

/* Handle variants with different shades in light/dark modes */
.high-contrast .text-emerald-600, .high-contrast .emerald-600, 
.high-contrast .text-emerald-500, .high-contrast .emerald-500 { color: rgb(var(--hc-green-900)) !important; }

.high-contrast .text-violet-600, .high-contrast .violet-600, 
.high-contrast .text-violet-500, .high-contrast .violet-500 { color: rgb(var(--hc-purple-900)) !important; }

.high-contrast .text-fuchsia-600, .high-contrast .fuchsia-600, 
.high-contrast .text-fuchsia-500, .high-contrast .fuchsia-500 { color: rgb(var(--hc-pink-900)) !important; }

.dark.high-contrast .text-emerald-600, .dark.high-contrast .emerald-600, 
.dark.high-contrast .text-emerald-500, .dark.high-contrast .emerald-500 { color: rgb(var(--hc-green-300)) !important; }

.dark.high-contrast .text-violet-600, .dark.high-contrast .violet-600, 
.dark.high-contrast .text-violet-500, .dark.high-contrast .violet-500 { color: rgb(var(--hc-purple-300)) !important; }

.dark.high-contrast .text-fuchsia-600, .dark.high-contrast .fuchsia-600,
.dark.high-contrast .text-fuchsia-500, .dark.high-contrast .fuchsia-500 { color: rgb(var(--hc-pink-300)) !important; }

/* Category-specific data attributes for direct targeting */
.high-contrast [data-category="COUNTRIES"] { color: rgb(var(--hc-blue-900)) !important; }
.high-contrast [data-category="ANIMALS"] { color: rgb(var(--hc-green-900)) !important; }
.high-contrast [data-category="MOVIES"] { color: rgb(var(--hc-purple-900)) !important; }
.high-contrast [data-category="BOOKS"] { color: rgb(var(--hc-orange-900)) !important; }
.high-contrast [data-category="MUSIC"], .high-contrast [data-category="MUSICIANS"] { color: rgb(var(--hc-pink-900)) !important; }
.high-contrast [data-category="ATHLETES"] { color: rgb(var(--hc-red-900)) !important; }
.high-contrast [data-category="HISTORY"] { color: rgb(var(--hc-yellow-900)) !important; }
.high-contrast [data-category="COMPANIES"] { color: rgb(var(--hc-cyan-900)) !important; }
.high-contrast [data-category="TV SHOWS"] { color: rgb(var(--hc-indigo-900)) !important; }

.dark.high-contrast [data-category="COUNTRIES"] { color: rgb(var(--hc-blue-300)) !important; }
.dark.high-contrast [data-category="ANIMALS"] { color: rgb(var(--hc-green-300)) !important; }
.dark.high-contrast [data-category="MOVIES"] { color: rgb(var(--hc-purple-300)) !important; }
.dark.high-contrast [data-category="BOOKS"] { color: rgb(var(--hc-orange-300)) !important; }
.dark.high-contrast [data-category="MUSIC"], .dark.high-contrast [data-category="MUSICIANS"] { color: rgb(var(--hc-pink-300)) !important; }
.dark.high-contrast [data-category="ATHLETES"] { color: rgb(var(--hc-red-300)) !important; }
.dark.high-contrast [data-category="HISTORY"] { color: rgb(var(--hc-yellow-300)) !important; }
.dark.high-contrast [data-category="COMPANIES"] { color: rgb(var(--hc-cyan-300)) !important; }
.dark.high-contrast [data-category="TV SHOWS"] { color: rgb(var(--hc-indigo-300)) !important; }

/* Background color versions */
.high-contrast .bg-blue-900 { background-color: rgb(var(--hc-blue-900)) !important; }
.high-contrast .bg-green-900 { background-color: rgb(var(--hc-green-900)) !important; }
.high-contrast .bg-purple-900 { background-color: rgb(var(--hc-purple-900)) !important; }
.high-contrast .bg-orange-900 { background-color: rgb(var(--hc-orange-900)) !important; }
.high-contrast .bg-pink-900 { background-color: rgb(var(--hc-pink-900)) !important; }
.high-contrast .bg-red-900 { background-color: rgb(var(--hc-red-900)) !important; }
.high-contrast .bg-yellow-900 { background-color: rgb(var(--hc-yellow-900)) !important; }
.high-contrast .bg-cyan-900 { background-color: rgb(var(--hc-cyan-900)) !important; }
.high-contrast .bg-indigo-900 { background-color: rgb(var(--hc-indigo-900)) !important; }

.dark.high-contrast .bg-blue-300 { background-color: rgb(var(--hc-blue-300)) !important; }
.dark.high-contrast .bg-green-300 { background-color: rgb(var(--hc-green-300)) !important; }
.dark.high-contrast .bg-purple-300 { background-color: rgb(var(--hc-purple-300)) !important; }
.dark.high-contrast .bg-orange-300 { background-color: rgb(var(--hc-orange-300)) !important; }
.dark.high-contrast .bg-pink-300 { background-color: rgb(var(--hc-pink-300)) !important; }
.dark.high-contrast .bg-red-300 { background-color: rgb(var(--hc-red-300)) !important; }
.dark.high-contrast .bg-yellow-300 { background-color: rgb(var(--hc-yellow-300)) !important; }
.dark.high-contrast .bg-cyan-300 { background-color: rgb(var(--hc-cyan-300)) !important; }
.dark.high-contrast .bg-indigo-300 { background-color: rgb(var(--hc-indigo-300)) !important; }

/* Basic high contrast overrides */
.high-contrast .bg-white {
  background-color: rgb(var(--contrast-bg)) !important;
}

.high-contrast .text-gray-800,
.high-contrast .text-gray-900 {
  color: rgb(var(--contrast-text)) !important;
}

.high-contrast .border-gray-100,
.high-contrast .border-gray-200 {
  border-color: rgb(var(--contrast-border)) !important;
}

.high-contrast .theme-focus-ring:focus {
  --tw-ring-color: rgb(var(--contrast-focus)) !important;
  box-shadow: 0 0 0 3px rgb(var(--contrast-focus) / 0.5) !important;
}

/* Additional contrast styles for buttons and interactive elements */
.high-contrast button,
.high-contrast a,
.high-contrast input,
.high-contrast select {
  outline: 2px solid transparent;
  transition: outline-color 0.2s;
}

.high-contrast button:focus,
.high-contrast a:focus,
.high-contrast input:focus,
.high-contrast select:focus {
  outline: 2px solid rgb(var(--contrast-focus));
}

@keyframes cardFlip {
  0% {
    transform: rotateY(90deg);
    opacity: 0;
  }
  100% {
    transform: rotateY(0deg);
    opacity: 1;
  }
}

@keyframes cardStack {
  0% {
    transform: translateY(-20px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes cardDeal {
  0% {
    transform: translateY(100px) translateX(calc(-50px * var(--card-offset, 0))) rotate(-10deg);
    opacity: 0;
  }
  100% {
    transform: translateY(0) translateX(var(--card-position, 0px)) rotate(var(--card-rotation, 0deg));
    opacity: 1;
  }
}

.progress-animation {
  animation: progressPulse 2s ease-in-out infinite;
}

.card-in-hand {
  animation: cardDeal 0.5s ease-out forwards;
  animation-delay: calc(var(--card-index, 0) * 0.1s);
  opacity: 0;
}

.revealed-fact-card {
  animation: cardStack 0.3s ease-out forwards;
}

/* Framer Motion specific styles */
.flip-card-container {
  perspective: 1000px;
}

.flip-card {
  position: relative;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
}

.flip-card-front,
.flip-card-back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

.flip-card-front {
  transform: rotateY(180deg);
}

/* Fix for Safari */
@supports (-webkit-touch-callout: none) {
  .flip-card-front,
  .flip-card-back {
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
  }
}

body {
  background-color: #ffffff;
  color: #171717;
  font-family: Arial, Helvetica, sans-serif;
  @apply bg-gray-50 text-gray-900;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    
    --primary: 221.2 83.2% 53.3%;
    --primary-foreground: 210 40% 98%;
    
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 221.2 83.2% 53.3%;
    
    --radius: 0.5rem;
  }
  
  .dark {
    --background: 0 0% 7%;
    --foreground: 0 0% 98%;
    
    --card: 0 0% 5%;
    --card-foreground: 0 0% 98%;
    
    --popover: 0 0% 5%;
    --popover-foreground: 0 0% 98%;
    
    --primary: 217.2 91.2% 59.8%;
    --primary-foreground: 222.2 47.4% 11.2%;
    
    --secondary: 0 0% 12%;
    --secondary-foreground: 0 0% 98%;
    
    --muted: 0 0% 12%;
    --muted-foreground: 0 0% 75%;
    
    --accent: 0 0% 12%;
    --accent-foreground: 0 0% 98%;
    
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    
    --border: 0 0% 15%;
    --input: 0 0% 15%;
    --ring: 224.3 76.5% 48%;
  }
}

@layer base {
  * {
    @apply border-0;
  }
  body {
    color: var(--foreground);
    background: var(--background);
  }
}

/* Traveling glow animation */
@keyframes borderGlow {
  0%, 100% {
    background-position: 0% 0%;
  }
  25% {
    background-position: 100% 0%;
  }
  50% {
    background-position: 100% 100%;
  }
  75% {
    background-position: 0% 100%;
  }
}

.card-border-glow {
  position: relative;
}

.card-border-glow::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 3px; /* Increased border width from 2px to 3px */
  background: linear-gradient(90deg, rgb(var(--primary-rgb)), rgb(var(--secondary-rgb)), rgb(var(--primary-rgb)));
  background-size: 300% 300%;
  animation: borderGlow 4s linear infinite;
  -webkit-mask: 
    linear-gradient(#fff 0 0) content-box, 
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
  opacity: 0.9; /* Added opacity to make the border more visible */
}

/* Class to remove border glow effect */
.card-border-none::before {
  display: none;
}

.card-hover-glow::before {
  content: "";
  position: absolute;
  inset: 0;
  z-index: -1;
  padding: 2px;
  background: linear-gradient(to right, rgb(var(--primary-rgb)), rgb(var(--secondary-rgb)), rgb(var(--accent-rgb)), rgb(var(--secondary-rgb)), rgb(var(--primary-rgb)));
  background-size: 200% auto;
  border-radius: inherit;
  animation: shimmer 2s infinite linear;
  -webkit-mask: 
    linear-gradient(#fff 0 0) content-box, 
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.card-hover-glow:hover::before {
  opacity: 1;
}

/* Add shimmer animation for hover glow */
@keyframes shimmer {
  0% {
    background-position: 0% center;
  }
  100% {
    background-position: 200% center;
  }
}

/* Theme-specific focus ring style */
.theme-focus-ring:focus {
  --tw-ring-offset-shadow: 0 0 0 0px var(--tw-ring-offset-color);
  --tw-ring-shadow: 0 0 0 2px var(--theme-color, rgb(59, 130, 246));
  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow);
  border-color: var(--theme-color, rgb(59, 130, 246));
}

/* Add 3D card flipping utilities */
.perspective {
  perspective: 1000px;
}

.backface-hidden {
  backface-visibility: hidden;
}

.rotateY-180 {
  transform: rotateY(180deg);
}

/* Card flip animation */
@keyframes cardFlip {
  0% {
    transform: rotateY(0deg);
  }
  100% {
    transform: rotateY(180deg);
  }
}

/* Card stack animation */
@keyframes cardStack {
  0% {
    transform: translateX(0) translateY(0);
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: translateX(var(--translate-x, 0)) translateY(var(--translate-y, 0));
    opacity: 1;
  }
}

/* Progress animation */
@keyframes progressPulse {
  0% {
    opacity: 0.3;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0.3;
  }
}

/* Apply animations */
.progress-animation {
  animation: progressPulse 1.5s infinite ease-in-out;
}

.card-in-hand {
  animation: cardFlip 0.6s forwards;
}

.revealed-fact-card {
  animation: cardStack 0.6s forwards;
}

/* Traveling glow animation */
.traveling-glow::before {
  content: "";
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 60%);
  animation: travelGlow 3s infinite linear;
  pointer-events: none;
  opacity: 0;
}

@keyframes travelGlow {
  0% {
    transform: translateX(-30%) translateY(-30%);
    opacity: 0;
  }
  30% {
    opacity: 0.5;
  }
  70% {
    opacity: 0.3;
  }
  100% {
    transform: translateX(30%) translateY(30%);
    opacity: 0;
  }
}

/* Card hover effects */
.fact-card:hover {
  transform: scale(1.05);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

/* Special styling for fact card back icons */
.fact-back-icon {
  box-shadow: none !important;
  background: transparent !important;
}

/* Add explicit shake animation keyframes */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }
  20%, 40%, 60%, 80% { transform: translateX(4px); }
}

/* Add a specific non-infinite animation class for wrong guesses */
.animate-wrong-guess {
  animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
}

.animate-repeat-guess {
  animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
}

/* Secondary color variants */
.high-contrast .blue-800 { color: rgb(var(--hc-blue-800)) !important; }
.high-contrast .green-800 { color: rgb(var(--hc-green-800)) !important; }
.high-contrast .purple-800 { color: rgb(var(--hc-purple-800)) !important; }
.high-contrast .orange-800 { color: rgb(var(--hc-orange-800)) !important; }
.high-contrast .pink-800 { color: rgb(var(--hc-pink-800)) !important; }
.high-contrast .red-800 { color: rgb(var(--hc-red-800)) !important; }
.high-contrast .yellow-800 { color: rgb(var(--hc-yellow-800)) !important; }
.high-contrast .cyan-800 { color: rgb(var(--hc-cyan-800)) !important; }
.high-contrast .indigo-800 { color: rgb(var(--hc-indigo-800)) !important; }

.dark.high-contrast .blue-200 { color: rgb(var(--hc-blue-200)) !important; }
.dark.high-contrast .green-200 { color: rgb(var(--hc-green-200)) !important; }
.dark.high-contrast .purple-200 { color: rgb(var(--hc-purple-200)) !important; }
.dark.high-contrast .orange-200 { color: rgb(var(--hc-orange-200)) !important; }
.dark.high-contrast .pink-200 { color: rgb(var(--hc-pink-200)) !important; }
.dark.high-contrast .red-200 { color: rgb(var(--hc-red-200)) !important; }
.dark.high-contrast .yellow-200 { color: rgb(var(--hc-yellow-200)) !important; }
.dark.high-contrast .cyan-200 { color: rgb(var(--hc-cyan-200)) !important; }
.dark.high-contrast .indigo-200 { color: rgb(var(--hc-indigo-200)) !important; }

/* Accent color variants */
.high-contrast .blue-950 { color: rgb(var(--hc-blue-950)) !important; }
.high-contrast .green-950 { color: rgb(var(--hc-green-950)) !important; }
.high-contrast .purple-950 { color: rgb(var(--hc-purple-950)) !important; }
.high-contrast .orange-950 { color: rgb(var(--hc-orange-950)) !important; }
.high-contrast .pink-950 { color: rgb(var(--hc-pink-950)) !important; }
.high-contrast .red-950 { color: rgb(var(--hc-red-950)) !important; }
.high-contrast .yellow-950 { color: rgb(var(--hc-yellow-950)) !important; }
.high-contrast .cyan-950 { color: rgb(var(--hc-cyan-950)) !important; }
.high-contrast .indigo-950 { color: rgb(var(--hc-indigo-950)) !important; }

.dark.high-contrast .blue-400 { color: rgb(var(--hc-blue-400)) !important; }
.dark.high-contrast .green-400 { color: rgb(var(--hc-green-400)) !important; }
.dark.high-contrast .purple-400 { color: rgb(var(--hc-purple-400)) !important; }
.dark.high-contrast .orange-400 { color: rgb(var(--hc-orange-400)) !important; }
.dark.high-contrast .pink-400 { color: rgb(var(--hc-pink-400)) !important; }
.dark.high-contrast .red-400 { color: rgb(var(--hc-red-400)) !important; }
.dark.high-contrast .yellow-400 { color: rgb(var(--hc-yellow-400)) !important; }
.dark.high-contrast .cyan-400 { color: rgb(var(--hc-cyan-400)) !important; }
.dark.high-contrast .indigo-400 { color: rgb(var(--hc-indigo-400)) !important; }

/* Background variations for secondary colors */
.high-contrast .bg-blue-800 { background-color: rgb(var(--hc-blue-800)) !important; }
.high-contrast .bg-green-800 { background-color: rgb(var(--hc-green-800)) !important; }
.high-contrast .bg-purple-800 { background-color: rgb(var(--hc-purple-800)) !important; }
.high-contrast .bg-orange-800 { background-color: rgb(var(--hc-orange-800)) !important; }
.high-contrast .bg-pink-800 { background-color: rgb(var(--hc-pink-800)) !important; }
.high-contrast .bg-red-800 { background-color: rgb(var(--hc-red-800)) !important; }
.high-contrast .bg-yellow-800 { background-color: rgb(var(--hc-yellow-800)) !important; }
.high-contrast .bg-cyan-800 { background-color: rgb(var(--hc-cyan-800)) !important; }
.high-contrast .bg-indigo-800 { background-color: rgb(var(--hc-indigo-800)) !important; }

.dark.high-contrast .bg-blue-200 { background-color: rgb(var(--hc-blue-200)) !important; }
.dark.high-contrast .bg-green-200 { background-color: rgb(var(--hc-green-200)) !important; }
.dark.high-contrast .bg-purple-200 { background-color: rgb(var(--hc-purple-200)) !important; }
.dark.high-contrast .bg-orange-200 { background-color: rgb(var(--hc-orange-200)) !important; }
.dark.high-contrast .bg-pink-200 { background-color: rgb(var(--hc-pink-200)) !important; }
.dark.high-contrast .bg-red-200 { background-color: rgb(var(--hc-red-200)) !important; }
.dark.high-contrast .bg-yellow-200 { background-color: rgb(var(--hc-yellow-200)) !important; }
.dark.high-contrast .bg-cyan-200 { background-color: rgb(var(--hc-cyan-200)) !important; }
.dark.high-contrast .bg-indigo-200 { background-color: rgb(var(--hc-indigo-200)) !important; }

/* Background variations for accent colors */
.high-contrast .bg-blue-950 { background-color: rgb(var(--hc-blue-950)) !important; }
.high-contrast .bg-green-950 { background-color: rgb(var(--hc-green-950)) !important; }
.high-contrast .bg-purple-950 { background-color: rgb(var(--hc-purple-950)) !important; }
.high-contrast .bg-orange-950 { background-color: rgb(var(--hc-orange-950)) !important; }
.high-contrast .bg-pink-950 { background-color: rgb(var(--hc-pink-950)) !important; }
.high-contrast .bg-red-950 { background-color: rgb(var(--hc-red-950)) !important; }
.high-contrast .bg-yellow-950 { background-color: rgb(var(--hc-yellow-950)) !important; }
.high-contrast .bg-cyan-950 { background-color: rgb(var(--hc-cyan-950)) !important; }
.high-contrast .bg-indigo-950 { background-color: rgb(var(--hc-indigo-950)) !important; }

.dark.high-contrast .bg-blue-400 { background-color: rgb(var(--hc-blue-400)) !important; }
.dark.high-contrast .bg-green-400 { background-color: rgb(var(--hc-green-400)) !important; }
.dark.high-contrast .bg-purple-400 { background-color: rgb(var(--hc-purple-400)) !important; }
.dark.high-contrast .bg-orange-400 { background-color: rgb(var(--hc-orange-400)) !important; }
.dark.high-contrast .bg-pink-400 { background-color: rgb(var(--hc-pink-400)) !important; }
.dark.high-contrast .bg-red-400 { background-color: rgb(var(--hc-red-400)) !important; }
.dark.high-contrast .bg-yellow-400 { background-color: rgb(var(--hc-yellow-400)) !important; }
.dark.high-contrast .bg-cyan-400 { background-color: rgb(var(--hc-cyan-400)) !important; }
.dark.high-contrast .bg-indigo-400 { background-color: rgb(var(--hc-indigo-400)) !important; }

/* Add direct mappings for the problematic colors */
.high-contrast .violet-900 { color: rgb(var(--hc-purple-900)) !important; }
.high-contrast .fuchsia-900 { color: rgb(var(--hc-pink-900)) !important; }
.high-contrast .orange-900 { color: rgb(var(--hc-orange-900)) !important; }

.dark.high-contrast .violet-300 { color: rgb(var(--hc-purple-300)) !important; }
.dark.high-contrast .fuchsia-300 { color: rgb(var(--hc-pink-300)) !important; }
.dark.high-contrast .orange-300 { color: rgb(var(--hc-orange-300)) !important; }

.high-contrast .bg-violet-900 { background-color: rgb(var(--hc-purple-900)) !important; }
.high-contrast .bg-fuchsia-900 { background-color: rgb(var(--hc-pink-900)) !important; }
.high-contrast .bg-orange-900 { background-color: rgb(var(--hc-orange-900)) !important; }

.dark.high-contrast .bg-violet-300 { background-color: rgb(var(--hc-purple-300)) !important; }
.dark.high-contrast .bg-fuchsia-300 { background-color: rgb(var(--hc-pink-300)) !important; }
.dark.high-contrast .bg-orange-300 { background-color: rgb(var(--hc-orange-300)) !important; }

/* Category-specific overrides for high contrast */
.dark.high-contrast [data-category="MOVIES"] { color: rgb(var(--hc-purple-300)) !important; }
.dark.high-contrast [data-category="BOOKS"] { color: rgb(var(--hc-orange-300)) !important; }
.dark.high-contrast [data-category="MUSIC"], 
.dark.high-contrast [data-category="MUSICIANS"] { color: rgb(var(--hc-pink-300)) !important; }

/* Direct fixes for specific problematic shade/color combinations */
.dark.high-contrast .text-violet-500, 
.dark.high-contrast .text-violet-600,
.dark.high-contrast .text-violet-700 { color: rgb(var(--hc-purple-300)) !important; }

.dark.high-contrast .text-fuchsia-500,
.dark.high-contrast .text-fuchsia-600,
.dark.high-contrast .text-fuchsia-700 { color: rgb(var(--hc-pink-300)) !important; }

.dark.high-contrast .text-orange-500,
.dark.high-contrast .text-orange-600,
.dark.high-contrast .text-orange-700 { color: rgb(var(--hc-orange-300)) !important; }

/* Category-specific overrides for high contrast */
.dark.high-contrast [data-category="MOVIES"] { color: rgb(var(--hc-purple-300)) !important; }
.dark.high-contrast [data-category="BOOKS"] { color: rgb(var(--hc-orange-300)) !important; }
.dark.high-contrast [data-category="MUSIC"], 
.dark.high-contrast [data-category="MUSICIANS"] { color: rgb(var(--hc-pink-300)) !important; }

/* Category-specific overrides for dark mode (no high contrast) */
.dark:not(.high-contrast) [data-category="MOVIES"] { color: rgb(139, 92, 246) !important; } /* violet-500 */
.dark:not(.high-contrast) [data-category="BOOKS"] { color: rgb(249, 115, 22) !important; } /* orange-500 */
.dark:not(.high-contrast) [data-category="ANIMALS"] { color: rgb(16, 185, 129) !important; } /* emerald-500 */
.dark:not(.high-contrast) [data-category="MUSIC"],
.dark:not(.high-contrast) [data-category="MUSICIANS"] { color: rgb(217, 70, 239) !important; } /* fuchsia-500 */
.dark:not(.high-contrast) [data-category="ATHLETES"] { color: rgb(239, 68, 68) !important; } /* red-500 */
.dark:not(.high-contrast) [data-category="COUNTRIES"] { color: rgb(59, 130, 246) !important; } /* blue-500 */
.dark:not(.high-contrast) [data-category="HISTORY"] { color: rgb(245, 158, 11) !important; } /* amber-500 */
.dark:not(.high-contrast) [data-category="COMPANIES"] { color: rgb(20, 184, 166) !important; } /* teal-500 */
.dark:not(.high-contrast) [data-category="TV SHOWS"] { color: rgb(99, 102, 241) !important; } /* indigo-500 */

/* Direct fixes for specific problematic shade/color combinations */

/* Custom scrollbar styles */
.custom-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: rgba(156, 163, 175, 0.5) transparent;
}

.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: rgba(156, 163, 175, 0.5);
  border-radius: 20px;
  border: transparent;
}

.dark .custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: rgba(75, 85, 99, 0.5);
}

/* Support page specific styles */
/* Removed: .support-page-container, .support-page-content, .support-section, .scrollable-accordion, .faq-list-container, .faq-item, .faq-button-wrapper, .faq-question-button, .faq-answer-container */

/* Themed scrollbar styles - ALWAYS VISIBLE VERSION */
.themed-scrollbar {
  --scrollbar-thumb-color: var(--primary-rgb);
  /* Reserve space for scrollbar to prevent layout shift */
  scrollbar-gutter: stable !important;
  /* Always show scrollbar regardless of content */
  overflow-y: scroll !important;
  overflow-x: hidden !important;
  /* Add padding for space between content and scrollbar */
  padding-right: 12px !important;
  /* Firefox scrollbar styling */
  scrollbar-width: thin !important;
  scrollbar-color: rgba(var(--scrollbar-thumb-color), 0.7) transparent !important;
}

/* Webkit scrollbar styling */
.themed-scrollbar::-webkit-scrollbar {
  width: 8px !important;
  height: 8px !important;
  /* Force display */
  display: block !important;
}

.themed-scrollbar::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.1) !important;
  border-radius: 8px !important;
}

.themed-scrollbar::-webkit-scrollbar-thumb {
  background-color: rgba(var(--scrollbar-thumb-color), 0.7) !important;
  border-radius: 8px !important;
  border: 2px solid transparent !important;
  min-height: 40px !important;
}

/* Dark mode styles for scrollbar track */
.dark .themed-scrollbar::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05) !important;
}
